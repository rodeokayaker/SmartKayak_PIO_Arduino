# –£–ª—É—á—à–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞

## ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã

### 1. –ö–æ–º–ø–∏–ª—è—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–∑-–∑–∞ –≤–∫–ª—é—á–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (SmartPaddle, DisplayInterface –∏ –¥—Ä.)

**–†–µ—à–µ–Ω–∏–µ:** 
- –î–æ–±–∞–≤–ª–µ–Ω `lib_ldf_mode = off` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∞–≤—Ç–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω—ã —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `build_src_filter`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ include –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

### 2. –ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–ª—å–∫–æ 3 –≥—Ä–µ–±–∫–∞ - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ –æ–±—É—á–µ–Ω–∏—è —Å–µ—Ç–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ **10 –≥—Ä–µ–±–∫–æ–≤** (3+3+4)
- –†–∞–∑–±–∏—Ç–æ –Ω–∞ —Ñ–∞–∑—ã –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –û–∂–∏–¥–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º –æ–±—É—á–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±—Ä–∞–Ω—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ "–æ–∂–∏–¥–∞–µ–º—ã–µ" –∑–Ω–∞—á–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
  - **–¢–µ–∫—É—â–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ** (deltaT=0) - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏
  - **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 200–º—Å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏–∏
- –ë–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –≤—ã–≤–æ–¥ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏

### 4. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã:
- **'r'** - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –æ—á–∏—Å—Ç–∫–æ–π
- **'s'** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- **'a'** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –º–µ—Ç–æ–¥ –æ–±—É—á–µ–Ω–∏—è A
- **'b'** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –º–µ—Ç–æ–¥ –æ–±—É—á–µ–Ω–∏—è B

### 5. –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ—Ü–µ—Å—Å–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –ù—É–º–µ—Ä–∞—Ü–∏—è –≥—Ä–µ–±–∫–æ–≤ (Stroke 1-10)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ KB
- –û–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–≥–ª–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–∑

## üìä –¢–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π —Ç–µ—Å—Ç –≤—ã–¥–∞–µ—Ç:

```
Phase 1: Stroke 1-3 (Initial learning)
  Stroke 1
  Stroke 2  
  Stroke 3
=== Grid Statistics ===
Filled cells: 28
Average confidence: 14.00
...

Phase 2: Stroke 4-6 (Building confidence)
  Stroke 4
  Stroke 5
  Stroke 6
=== Grid Statistics ===
Filled cells: 28
Average confidence: 28.71
...

Phase 3: Stroke 7-10 (Refinement)
  Stroke 7
  Stroke 8
  Stroke 9
  Stroke 10
=== Grid Statistics ===
Filled cells: 28
Average confidence: 51.43
...

=== Testing Predictions ===
Testing without time offset (current position):
  0.0¬∞ (Vertical): force=XXX, conf=0.XX
  15.0¬∞ (Early stroke): force=XXX, conf=0.XX
  ...

Testing with 200ms prediction:
  0.0¬∞ (Vertical): force=XXX, conf=0.XX
  ...

=== Final Statistics ===
Total strokes: 10
Total learn calls: 200
Total predict calls: 140
Memory used: ~1 KB
...
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞

1. **–õ—É—á—à–µ–µ –æ–±—É—á–µ–Ω–∏–µ** - 10 –≥—Ä–µ–±–∫–æ–≤ –≤–º–µ—Å—Ç–æ 3
2. **–í—ã—à–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å** - confidence —Ä–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥–æ–π —Ñ–∞–∑–æ–π
3. **–ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö** - 200 learn() –≤—ã–∑–æ–≤–æ–≤ vs 60
4. **–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç—å** - –≤–∏–¥–Ω–æ –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è
5. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –º–æ–∂–Ω–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
6. **–î–≤–∞ —Ä–µ–∂–∏–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏** - –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –∏ —ç–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ ESP32: `pio run -e test_grid_predictor_esp32 -t upload`
2. –û—Ç–∫—Ä—ã—Ç—å Serial Monitor –∏ –Ω–∞–±–ª—é–¥–∞—Ç—å
3. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã 'a' –∏ 'b' –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ SmartKayak
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìù –ó–∞–º–µ—Ç–∫–∏

- –°–∏–º—É–ª—è—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–Ω—É—Å–æ–∏–¥–∞–ª—å–Ω—É—é –∫—Ä–∏–≤—É—é —Å–∏–ª—ã
- –£–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è (1.0 —Ä–∞–¥/—Å)
- Threshold = 400–≥ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- Alpha EMA = 0.2 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- Grid step = 10¬∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π –∏ —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç –≥–æ—Ç–æ–≤!

